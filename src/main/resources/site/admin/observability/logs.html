<!DOCTYPE html>
<html lang = "en">
    
    <head>

        <meta charset = "utf-8"/>
        <meta name = "viewport" content = "width=device-width, initial-scale=1"/>
        <meta name = "description" content = "Personal GitHub projects showcase website. Admin site logs page."/>

        <link rel = "stylesheet" href = "../../css/base.css"/>
        <link rel = "stylesheet" href = "../../css/header.css"/>
        <link rel = "stylesheet" href = "../../css/form.css"/>
        <link rel = "stylesheet" href = "../../css/table.css"/>
        <link rel = "stylesheet" href = "../../css/loader.css"/>
        <link rel = "stylesheet" href = "../../css/logout.css"/>

        <link rel = "icon" type = "image/x-icon" href = "../../images/favicon.ico"/>

        <title>Gatto's Lab</title>

    </head>

    <body class = "background">

        <nav class = "navbar">

            <div class = "nav-container">

                <div class = "nav-item">
                    <img src = "../../images/GITHUB-LOGO.svg" class = "nav-icon" alt = "GitHub logo"/>
                    <a href = "https://github.com/Clamentos" target = "_blank">Follow me on GitHub</a>
                </div>

                <div class = "nav-item">
                    <button class = "logout-button" onclick = "logout('ADMIN', '../../login.html')">Logout</button>
                </div>

            </div>

            <div class = "nav-crumb">
                <a href = "../../index.html">Home</a> > <a href = "../index.html">Admin</a> > Logs
            </div>

        </nav>

        <main>

            <div class = "default-container">

                <form class = "form-container" onsubmit = "onSubmitEvent(event)">

                    <div class = "form-input-group">

                        <input class = "form-input" type = "datetime-local" name = "startTimestamp" id = "start-timestamp">

                        <p class = "form-field-description">

                            <strong>Start time:</strong> specify the start time of the window. On page load, it's automatically set to the current day. Clearing this field will cause the search to ignore this field and fetch arbitrarily far into the past.
                        </p>

                    </div>

                    <div class = "form-input-group">

                        <input class = "form-input" type = "datetime-local" name = "endTimestamp">

                        <p class = "form-field-description">

                            <strong>End time:</strong> specify the end time of the window. Clearing this field will cause the search to ignore this filter and fetch arbitrarily far into the future.

                        </p>

                    </div>

                    <div class = "form-input-group">

                        <input class = "form-input" type = "text" name = "severities", placeholder = "INFO, ERROR, WARN">

                        <p class = "form-field-description">

                            <strong>Severities:</strong> specify the log severities to be included in the search. To specify multiple, simply separate the names with a comma (no spaces). Clearing this field will cause the search to ignore this filter.

                        </p>

                    </div>

                    <div class = "form-input-group">

                        <input class = "form-input" type = "text" name = "threadPattern">

                        <p class = "form-field-description">

                            <strong>Thread pattern:</strong> specify the thread's name pattern. Clearing this field will cause the search to ignore this filter.

                        </p>

                    </div>

                    <div class = "form-input-group">

                        <input class = "form-input" type = "text" name = "loggerPattern">

                        <p class = "form-field-description">

                            <strong>Logger pattern:</strong> specify the logger's name pattern. Clearing this field will cause the search to ignore this filter.

                        </p>

                    </div>

                    <div class = "form-input-group">

                        <input class = "form-input" type = "text" name = "messagePattern">

                        <p class = "form-field-description">

                            <strong>Message pattern:</strong> specify the message pattern. Clearing this field will cause the search to ignore this filter.

                        </p>

                    </div>

                    <div class = "form-input-group">

                        <input class = "form-input" type = "text" name = "exceptionClassPattern">

                        <p class = "form-field-description">

                            <strong>Exception class pattern:</strong> specify the exception class pattern. Clearing this field will cause the search to ignore this filter.

                        </p>

                    </div>

                    <button class = "form-button" type = "submit">Filter</button>
                    <div id = "submit-loader" class = "loader" style = "display: none"></div>
                    <p id = "API-error" class = "form-error"></p>

                </form>

                <div class = "table-container">

                    <strong id = "logs-count"></strong>

                    <div class = "table">

                        <div class = "table-header-row">

                            <div style = "width: 5%; border-left: none">Timestamp</div>
                            <div style = "width: 5%">Severity</div>
                            <div style = "width: 45%">Message</div>
                            <div style = "width: 15%">Logger</div>
                            <div style = "width: 15%">Thread</div>
                            <div style = "width: 15%">Exception</div>

                        </div>

                        <div class = "table-data" id = "table-data-hook"></div>

                    </div>

                </div>

            </div>

        </main>

    </body>

    <script src = "../../js/logout.js"></script>
    <script src = "../../js/logs.js"></script>

</html>
